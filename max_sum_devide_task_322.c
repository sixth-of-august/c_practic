/* автор программы - Лесков. Н. Г.

задание - найти натуральное число от 1 до 10000 с максимальной суммой делителей

подключаем библиотеки для работы программы
stdio.h - для ввода и вывода в консоль
locale.h - для отображения кириллицы в консоли
math.h - для математических функций*/
#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <math.h>

int main() {
    // устанавливаем локаль для корректного отображения русских символов
    setlocale(LC_ALL, "");

    // задаём длинц массива, инициализируем максимальную сумму делителей
    // и число с этой суммой
    int length = 10000, max_sum = 0, number_max_sum = 0;
    int new_array[length], sum_array[length];

    // заполняем массив натуральных чисел
    for (int i = 0; i < length; i++) {
        new_array[i] = i + 1; 
    }

   // ищём сумму делителей для каждого натурального числа
    for (int i = 0; i < length; i++) {

        // цикл ищет делители вплоть для самого числа
        for (int j = 1; j <= new_array[i]; j++) {
           
            // условие (деление на число без остатка)
            if (new_array[i] % j == 0) {
                sum_array[i] += j;
            } } }
    
    // ищем по массиву число с максимальным количеством делителей
    // и само числа
    for (int i = 0; i < length; i++) {
        if (sum_array[i] > max_sum) {
            max_sum = sum_array[i];
            number_max_sum = new_array[i];
        } }

    // выводим полученные результаты
    printf("Максимальная сумма делителей у натурального числа %d - %d\n", number_max_sum, max_sum);

    // завершаем работу программы
    return 0;
}

/* действия в консоли -- 
 создаём исполняемый файл и указываем файл для компиляции
  gcc -o max_sum max_sum_devide_task_322.c
  
  запускаем исполняемый файл
  ./max_sum                   */ 